name: py

on:
  push:
    branches:
      - main
  workflow_dispatch:
  schedule:


#              ┌───────────── minute (0 - 59)
#              │ ┌───────────── hour (0 - 23)
#              │ │ ┌───────────── day of the month (1 - 31)
#              │ │ │ ┌───────────── month (1 - 12 or JAN-DEC)
#              │ │ │ │ ┌───────────── day of the week (0 - 6 or SUN-SAT)
#              │ │ │ │ │
#              │ │ │ │ │
#              │ │ │ │ │
#              * * * * *
    - cron:  '30 5,17 10 * *'
jobs:
      build:
        runs-on: ubuntu-latest
    
        steps:
          - name: checkout repo content
            uses: actions/checkout@v2 # checkout the repository content to github runner.
          - name: setup python
            uses: actions/setup-python@v2
            with:
              python-version: 3.8 #install the python needed
          - name: Install pipenv
            run: |
               python -m pip install --upgrade pip
               pip install pipenv              
          - name: Install dependencies
            run: |
              pipenv install
          - name: execute py script # run the run.py to get the latest data
            run: |
              python terse2.py
            env:
              key: ${{ secrets.key }} # if run.py requires passwords..etc, set it as secrets

          #- name: export index
          # .... # use crosponding script or actions to help export.              
